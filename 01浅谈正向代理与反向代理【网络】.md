# 核心区别

正向代理：代理对象【客户端】，隐藏客户端
反向代理：代理对象【服务器】，隐藏服务器

# 正向代理

## 1. 什么是正向代理

客户端和目标服务器之间的服务器称为代理服务器，帮助客户端从目标服务器获取内容。此时目标服务器不知道访问自己的是真实的客户端还是客户端找的代理。
比如要访问国外网站，直接访问是不通的，那么就可以找一个代理服务器为我们服务，客户端发请求到代理服务器，代理服务器把请求转发到目标服务器，然后把请求结果（响应）返回给客户端。
![img](/images/01_1.png)
全程server只知道proxy访问了它，而不知道client是谁，所以proxy代理的是客户端client。

## 2. 正向代理的作用

- 提高访问速度
  代理服务器一般都会设置一个缓冲区，目的是将一些请求的响应保存起来，当有其他用户访问相同请求时，直接从缓冲区中拿出信息就好了，提高访问速度。
- 突破访问限制
  通过代理服务器可以突破客户端自身 IP 的访问限制，比如去访问国外网站等。
- 隐藏客户端及真实IP
  客户端可以用代理服务器隐藏自己的IP，目标服务器只知道代理服务器的 IP。

# 反向代理

## 1. 什么是反向代理

代理服务器为目标服务器服务，代理服务器同样接收来自客户端的请求，然后把请求转发目标服务器，取得结果返回给客户端。此时客户端不知道自己访问的是真实的目标服务器还是代理服务器。
比如我们要访问百度网站，百度的代理服务器对外的域名为 https://www.baidu.com 。具体内部的服务器节点其实我们是不知道的。现实中其实我们是访问了百度的代理服务器，然后代理服务器转发请求到内部 N 多个的服务器节点中的一个，最后取得结果返回。
![img](/images/01_2.png)
全程client只知道它访问了proxy，而不知道究竟最终访问了谁，所以proxy代理的是服务端server。

## 2. 反向代理的作用

- 提高访问速度
  反向代理服务器也可以提供缓存服务以提高访问速度。
- 隐藏服务器IP
  正向代理隐藏客户端IP，反向代理可以对客户端隐藏服务器的IP。
- 提供安全保障
  反向代理服务器可以作为应用层防火墙，为网站提供防护功能。还可以有一些特殊的处理，比如为后端服务器统一提供加密、HTTP访问认证等。
- 实现负载均衡
  反向代理服务器能用于负载均衡，根据真实服务器的负载情况，将客户端请求根据策略分发到不同的真实服务器去处理。

# 反向代理与负载均衡区别

- 反向代理是实现负载均衡的一种方式，但负载均衡不一定要通过反向代理来实现。
- 反向代理也不一定要实现负载均衡，它可以在服务器与客户端之间作为一个缓存。